<aside 
  class="fixed left-0 top-0 h-full bg-white border-r border-secondary-200 z-40 flex flex-col transition-all duration-300"
  [class.w-64]="!collapsed"
  [class.w-16]="collapsed">
  
  <!-- Logo Area -->
  <div class="h-16 flex items-center justify-center border-b border-secondary-200 px-4">
    <a routerLink="/" class="flex items-center space-x-3 overflow-hidden">
      <div class="w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center flex-shrink-0">
        <i nz-icon nzType="file-pdf" nzTheme="fill" class="text-white text-lg"></i>
      </div>
      <span 
        class="font-bold text-lg text-secondary-900 whitespace-nowrap transition-opacity duration-200"
        [class.opacity-0]="collapsed"
        [class.w-0]="collapsed">
        PDF Editor
      </span>
    </a>
  </div>

  <!-- Navigation -->
  <nav class="flex-1 overflow-y-auto py-4 scrollbar-thin">
    <div *ngFor="let category of navCategories; let last = last" [class.mb-6]="!last">
      <!-- Category Title -->
      <div 
        *ngIf="!collapsed"
        class="px-4 mb-2">
        <span class="text-xs font-semibold text-secondary-400 uppercase tracking-wider">
          {{ category.title }}
        </span>
      </div>
      
      <!-- Divider when collapsed -->
      <div 
        *ngIf="collapsed"
        class="mx-3 mb-2 border-t border-secondary-200"></div>

      <!-- Navigation Items -->
      <div class="space-y-1 px-2">
        <a
          *ngFor="let item of category.items"
          [routerLink]="item.route"
          routerLinkActive="active"
          class="sidebar-link"
          [class.justify-center]="collapsed"
          [title]="collapsed ? item.label : ''">
          <i nz-icon [nzType]="item.icon" nzTheme="outline" class="text-lg flex-shrink-0"></i>
          <span 
            class="ml-3 whitespace-nowrap transition-opacity duration-200"
            [class.opacity-0]="collapsed"
            [class.w-0]="collapsed"
            [class.hidden]="collapsed">
            {{ item.label }}
          </span>
          <span 
            *ngIf="item.badge && !collapsed"
            class="ml-auto bg-primary-100 text-primary-700 text-xs font-medium px-2 py-0.5 rounded-full">
            {{ item.badge }}
          </span>
        </a>
      </div>
    </div>
  </nav>

  <!-- Collapse Toggle -->
  <div class="border-t border-secondary-200 p-2">
    <button
      (click)="onToggle()"
      class="w-full flex items-center justify-center p-2 rounded-md text-secondary-500 hover:text-secondary-700 hover:bg-secondary-100 transition-colors duration-200">
      <i 
        nz-icon 
        [nzType]="collapsed ? 'menu-unfold' : 'menu-fold'" 
        nzTheme="outline"
        class="text-lg">
      </i>
    </button>
  </div>
</aside>

<!-- Mobile Overlay -->
<div 
  *ngIf="!collapsed"
  (click)="onToggle()"
  class="fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden">
</div>
